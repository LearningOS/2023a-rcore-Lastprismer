## 编程作业
* 实现`copyout`，从内核向别的内存空间写，重写 sys_get_time 和 sys_task_info
* 实现 mmap 和 munmap 匿名映射


## 问答作业
1. 
| 位数 | 名称 | 含义 |
| --- | --- | --- |
| 0 | V | 有效位，表示该页表项是否有效 |
| 1 | R | 可读位，表示该页表项对应的物理页是否可读 |
| 2 | W | 可写位，表示该页表项对应的物理页是否可写 |
| 3 | X | 可执行位，表示该页表项对应的物理页是否可执行 |
| 4 | U | 用户位，表示该页表项对应的物理页是否属于用户态 |
| 5 | G | 全局位，表示该页表项对应的物理页是否全局可见 |
| 6 | A | 访问位，表示该页表项对应的物理页是否被访问过 |
| 7 | D | 脏位，表示该页表项对应的物理页是否被修改过 |
| 8-9 | RSVD | 保留位，未使用 |
| 10-18 | PPN[0] | 物理页号的低9位 |
| 19-27 | PPN[1] | 物理页号的中9位 |
| 28-53 | PPN[2] | 物理页号的高27位 |
| 54-63 | RSVD | 保留位，未使用 |


2. 
* 缺页导致的异常：
  * **Load page fault**：当一个加载指令试图访问一个没有映射到物理内存的虚拟地址时触发
  * **Store page fault**：当一个存储指令试图访问一个没有映射到物理内存的虚拟地址时触发
  * **Instruction page fault**：当一个取指令操作试图访问一个没有映射到物理内存的虚拟地址时触发
* 发生缺页时，描述相关重要寄存器的值
  * stvec：异常处理程序入口地址
  * scause：异常类型和中断标志位
  * sepc：发生异常的指令的地址
  * stval：发生异常的指令的编码或需要访问的地址
  * sstatus：处理器权限
* Lazy的好处：提高内存利用率，提高程序响应速度，支持动态链接和动态加载
* 处理 10G 连续的内存页面，对应的 SV39 页表大致占用多少内存：$10G / 512 \approx 20M$
* 请简单思考如何才能实现 Lazy 策略，缺页时又如何处理：将申请页从分配改为标注，缺页中断发现标注页时将其调入内存即可
* 页面失效如何体现在页表项：选择一个保留位用来标志是否在磁盘上



3. 
* 在单页表情况下，如何更换页表：进程切换时切换，异常处理时不切换
* 单页表情况下，如何控制用户态无法访问内核页面：用pte的U位控制
* 单页表优势：实现起来简单，发生异常时不需要切换
* 双页表实现下，进程切换和异常处理时切换；单页表：进程切换时切换



## 荣耀准则

1. 在完成本次实验的过程（含此前学习的过程）中，我曾分别与 以下各位 就（与本次实验相关的）以下方面做过交流，还在代码中对应的位置以注释形式记录了具体的交流对象及内容：无
2. 此外，我也参考了 以下资料 ，还在代码中对应的位置以注释形式记录了具体的参考来源及内容：无
3. 我独立完成了本次实验除以上方面之外的所有工作，包括代码与文档。 我清楚地知道，从以上方面获得的信息在一定程度上降低了实验难度，可能会影响起评分。
4. 我从未使用过他人的代码，不管是原封不动地复制，还是经过了某些等价转换。 我未曾也不会向他人（含此后各届同学）复制或公开我的实验代码，我有义务妥善保管好它们。 我提交至本实验的评测系统的代码，均无意于破坏或妨碍任何计算机系统的正常运转。 我清楚地知道，以上情况均为本课程纪律所禁止，若违反，对应的实验成绩将按“-100”分计。